<?php
/**
 * Konfigurasi Aplikasi - TEMPLATE
 * Risk Assessment Objek Wisata
 * Support untuk Railway.app, Render.com, dan environment variables
 * 
 * INSTRUKSI:
 * 1. Copy file ini menjadi config.php
 * 2. Untuk Railway/Render: Aplikasi akan otomatis membaca dari environment variables
 * 3. Untuk lokal: Isi dengan kredensial database Anda
 */

// Base URL
// Gunakan environment variable jika tersedia (untuk hosting online)
define('BASE_URL', getenv('BASE_URL') ?: 'http://localhost/RISK/');

// Path aplikasi
define('APP_PATH', __DIR__ . '/../');

// Environment (development, production)
define('APP_ENV', getenv('APP_ENV') ?: 'development');

// Session (only start if not already started and headers not sent)
if (session_status() === PHP_SESSION_NONE && !headers_sent()) {
    session_start();
}

// Timezone
date_default_timezone_set('Asia/Jakarta');

// Error reporting based on environment
if (APP_ENV === 'production') {
    error_reporting(0);
    ini_set('display_errors', 0);
    ini_set('log_errors', 1);
    ini_set('error_log', APP_PATH . 'logs/error.log');
} else {
    error_reporting(E_ALL);
    ini_set('display_errors', 1);
}

// Upload settings
define('UPLOAD_PATH', APP_PATH . 'assets/uploads/');
define('MAX_UPLOAD_SIZE', 5 * 1024 * 1024); // 5MB
define('ALLOWED_EXTENSIONS', ['jpg', 'jpeg', 'png', 'pdf', 'doc', 'docx']);

// Pagination
define('ITEMS_PER_PAGE', 10);

// Tahun default untuk laporan
define('DEFAULT_YEAR', date('Y'));

?>

